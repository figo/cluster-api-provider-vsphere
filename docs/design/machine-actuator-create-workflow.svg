<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="383px" preserveAspectRatio="none" style="width:1041px;height:383px;" version="1.1" viewBox="0 0 1041 383" width="1041px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lmgmvmq7sbit" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="492.5" cy="20" fill="#000000" filter="url(#f1lmgmvmq7sbit)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="437.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="447.5" y="71.6016">Create machine</text><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="424.5,104.1328,560.5,104.1328,572.5,116.1328,560.5,128.1328,424.5,128.1328,412.5,116.1328,424.5,104.1328" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="424.5" y="120.29">Is the control plane ready</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="394.5" y="113.8125">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="572.5" y="113.8125">no</text><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="127,138.1328,295,138.1328,307,150.1328,295,162.1328,127,162.1328,115,150.1328,127,138.1328" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="127" y="154.29">Machine has control plane label</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="97" y="147.8125">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="307" y="147.8125">no</text><rect fill="#ADD8E6" filter="url(#f1lmgmvmq7sbit)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="10" y="172.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="170" x="20" y="193.7344">Join as control plane member</text><rect fill="#ADD8E6" filter="url(#f1lmgmvmq7sbit)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="249.5" y="172.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="259.5" y="193.7344">Join as worker node</text><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="211,212.2656,223,224.2656,211,236.2656,199,224.2656,211,212.2656" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="704.75,138.1328,872.75,138.1328,884.75,150.1328,872.75,162.1328,704.75,162.1328,692.75,150.1328,704.75,138.1328" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="704.75" y="154.29">Machine has contorl plane label</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="674.75" y="147.8125">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="884.75" y="147.8125">no</text><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="513.25,172.1328,723.25,172.1328,735.25,184.1328,723.25,196.1328,513.25,196.1328,501.25,184.1328,513.25,172.1328" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="513.25" y="188.29">Are there other control plane machines</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="483.25" y="181.8125">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="735.25" y="181.8125">no</text><rect fill="#FFC0CB" filter="url(#f1lmgmvmq7sbit)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="419.75" y="206.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="429.75" y="227.7344">Return requeue error</text><rect fill="#ADD8E6" filter="url(#f1lmgmvmq7sbit)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="225" x="632.75" y="206.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="205" x="642.75" y="227.7344">Create machine to init control plane</text><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="618.25,246.2656,630.25,258.2656,618.25,270.2656,606.25,258.2656,618.25,246.2656" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FFC0CB" filter="url(#f1lmgmvmq7sbit)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="887.75" y="172.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="897.75" y="193.7344">Return requeue error</text><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="788.75,276.2656,800.75,288.2656,788.75,300.2656,776.75,288.2656,788.75,276.2656" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1lmgmvmq7sbit)" points="492.5,306.2656,504.5,318.2656,492.5,330.2656,480.5,318.2656,492.5,306.2656" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="492.5" cy="361.2656" fill="#FFFFFF" filter="url(#f1lmgmvmq7sbit)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="492.5" cy="361.2656" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492.5" x2="492.5" y1="30" y2="50"/><polygon fill="#A80036" points="488.5,40,492.5,50,496.5,40,492.5,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="115" x2="105" y1="150.1328" y2="150.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="105" x2="105" y1="150.1328" y2="172.1328"/><polygon fill="#A80036" points="101,162.1328,105,172.1328,109,162.1328,105,166.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="307" x2="317" y1="150.1328" y2="150.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="317" x2="317" y1="150.1328" y2="172.1328"/><polygon fill="#A80036" points="313,162.1328,317,172.1328,321,162.1328,317,166.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="105" x2="105" y1="206.2656" y2="224.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="105" x2="199" y1="224.2656" y2="224.2656"/><polygon fill="#A80036" points="189,220.2656,199,224.2656,189,228.2656,193,224.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="317" x2="317" y1="206.2656" y2="224.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="317" x2="223" y1="224.2656" y2="224.2656"/><polygon fill="#A80036" points="233,220.2656,223,224.2656,233,228.2656,229,224.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="501.25" x2="491.25" y1="184.1328" y2="184.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="491.25" x2="491.25" y1="184.1328" y2="206.1328"/><polygon fill="#A80036" points="487.25,196.1328,491.25,206.1328,495.25,196.1328,491.25,200.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="735.25" x2="745.25" y1="184.1328" y2="184.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="745.25" x2="745.25" y1="184.1328" y2="206.1328"/><polygon fill="#A80036" points="741.25,196.1328,745.25,206.1328,749.25,196.1328,745.25,200.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="491.25" x2="491.25" y1="240.2656" y2="258.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="491.25" x2="606.25" y1="258.2656" y2="258.2656"/><polygon fill="#A80036" points="596.25,254.2656,606.25,258.2656,596.25,262.2656,600.25,258.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="745.25" x2="745.25" y1="240.2656" y2="258.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="745.25" x2="630.25" y1="258.2656" y2="258.2656"/><polygon fill="#A80036" points="640.25,254.2656,630.25,258.2656,640.25,262.2656,636.25,258.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="692.75" x2="618.25" y1="150.1328" y2="150.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="618.25" x2="618.25" y1="150.1328" y2="172.1328"/><polygon fill="#A80036" points="614.25,162.1328,618.25,172.1328,622.25,162.1328,618.25,166.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="884.75" x2="959.25" y1="150.1328" y2="150.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="959.25" x2="959.25" y1="150.1328" y2="172.1328"/><polygon fill="#A80036" points="955.25,162.1328,959.25,172.1328,963.25,162.1328,959.25,166.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="618.25" x2="618.25" y1="270.2656" y2="288.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="618.25" x2="776.75" y1="288.2656" y2="288.2656"/><polygon fill="#A80036" points="766.75,284.2656,776.75,288.2656,766.75,292.2656,770.75,288.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="959.25" x2="959.25" y1="206.2656" y2="288.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="959.25" x2="800.75" y1="288.2656" y2="288.2656"/><polygon fill="#A80036" points="810.75,284.2656,800.75,288.2656,810.75,292.2656,806.75,288.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="412.5" x2="211" y1="116.1328" y2="116.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="211" x2="211" y1="116.1328" y2="138.1328"/><polygon fill="#A80036" points="207,128.1328,211,138.1328,215,128.1328,211,132.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="572.5" x2="788.75" y1="116.1328" y2="116.1328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="788.75" x2="788.75" y1="116.1328" y2="138.1328"/><polygon fill="#A80036" points="784.75,128.1328,788.75,138.1328,792.75,128.1328,788.75,132.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="211" x2="211" y1="236.2656" y2="318.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="211" x2="480.5" y1="318.2656" y2="318.2656"/><polygon fill="#A80036" points="470.5,314.2656,480.5,318.2656,470.5,322.2656,474.5,318.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="788.75" x2="788.75" y1="300.2656" y2="318.2656"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="788.75" x2="504.5" y1="318.2656" y2="318.2656"/><polygon fill="#A80036" points="514.5,314.2656,504.5,318.2656,514.5,322.2656,510.5,318.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492.5" x2="492.5" y1="84.1328" y2="104.1328"/><polygon fill="#A80036" points="488.5,94.1328,492.5,104.1328,496.5,94.1328,492.5,98.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="492.5" x2="492.5" y1="330.2656" y2="350.2656"/><polygon fill="#A80036" points="488.5,340.2656,492.5,350.2656,496.5,340.2656,492.5,344.2656" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml machine-actuator-create-workflow

start;

:Create machine;

if (Is the control plane ready) then (yes)
  if (Machine has control plane label) then (yes)
    #LightBlue:Join as control plane member;
  else (no)
    #LightBlue:Join as worker node;
  endif
else (no)
  if (Machine has contorl plane label) then (yes)
    if (Are there other control plane machines) then (yes)
      #Pink:Return requeue error;
    else (no)
      #LightBlue:Create machine to init control plane;
    endif
  else (no)
    #Pink:Return requeue error;
  endif
endif

stop;

@enduml

PlantUML version 1.2019.06(Fri May 24 12:10:25 CDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Mac OS X
OS Version: 10.14.5
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>